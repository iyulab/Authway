# ============================================================
# Authway Configuration
# ============================================================
# Copy this file to .env and customize the values
# Required fields are marked with [REQUIRED]
# Optional fields have sensible defaults
# ============================================================

# ============================================================
# Application Settings
# ============================================================
# Basic application configuration

# Application name (shown in UI, emails, etc.)
AUTHWAY_APP_NAME=Authway

# Application version
AUTHWAY_APP_VERSION=0.1.0

# Environment: development, staging, production
# [REQUIRED] Affects validation rules and security checks
AUTHWAY_APP_ENVIRONMENT=development

# Port the server listens on
AUTHWAY_APP_PORT=8080

# Base URL for the application (used in emails, redirects)
AUTHWAY_APP_BASE_URL=http://localhost:8080

# ============================================================
# Database Configuration (PostgreSQL)
# ============================================================
# [REQUIRED] Database connection is mandatory

# Database host
AUTHWAY_DATABASE_HOST=localhost

# Database port
AUTHWAY_DATABASE_PORT=5432

# Database user
AUTHWAY_DATABASE_USER=authway

# Database password
AUTHWAY_DATABASE_PASSWORD=authway

# Database name
AUTHWAY_DATABASE_NAME=authway

# SSL mode: disable, require, verify-ca, verify-full
AUTHWAY_DATABASE_SSL_MODE=disable

# ============================================================
# Redis Configuration
# ============================================================
# Optional: Used for session storage and caching
# If not configured, sessions will use database

# Redis host
AUTHWAY_REDIS_HOST=localhost

# Redis port
AUTHWAY_REDIS_PORT=6379

# Redis password (leave empty if no authentication)
AUTHWAY_REDIS_PASSWORD=

# Redis database number (0-15)
AUTHWAY_REDIS_DB=0

# ============================================================
# JWT Configuration
# ============================================================
# [REQUIRED IN PRODUCTION] Change these secrets in production!

# Access token secret (use strong random string in production)
# Generate with: openssl rand -base64 32
AUTHWAY_JWT_ACCESS_TOKEN_SECRET=your-secret-key-change-in-production

# Refresh token secret (use different strong random string)
# Generate with: openssl rand -base64 32
AUTHWAY_JWT_REFRESH_TOKEN_SECRET=your-refresh-secret-key-change-in-production

# Access token expiry (e.g., 15m, 1h, 24h)
AUTHWAY_JWT_ACCESS_TOKEN_EXPIRY=15m

# Refresh token expiry (e.g., 7d, 30d, 90d)
AUTHWAY_JWT_REFRESH_TOKEN_EXPIRY=7d

# JWT issuer
AUTHWAY_JWT_ISSUER=authway

# Optional: Path to RSA private key for JWT signing
# AUTHWAY_JWT_PRIVATE_KEY_PATH=/path/to/private.pem

# Optional: Path to RSA public key for JWT verification
# AUTHWAY_JWT_PUBLIC_KEY_PATH=/path/to/public.pem

# ============================================================
# OAuth 2.0 Configuration
# ============================================================
# OAuth flow settings

# Authorization code expiry (e.g., 5m, 10m, 15m)
AUTHWAY_OAUTH_AUTHORIZE_CODE_EXPIRY=10m

# Allowed grant types (comma-separated)
AUTHWAY_OAUTH_ALLOWED_GRANT_TYPES=authorization_code,refresh_token

# Allowed scopes (comma-separated)
AUTHWAY_OAUTH_ALLOWED_SCOPES=openid,profile,email

# Require PKCE (Proof Key for Code Exchange) for security
AUTHWAY_OAUTH_REQUIRE_PKCE=true

# ============================================================
# CORS Configuration
# ============================================================
# Allowed origins for cross-origin requests (comma-separated)

AUTHWAY_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================
# Email Configuration (SMTP)
# ============================================================
# Required for: email verification, password reset, notifications

# SMTP server host
# Development (MailHog): localhost
# Production: smtp.sendgrid.net, smtp.gmail.com, etc.
AUTHWAY_EMAIL_SMTP_HOST=localhost

# SMTP server port
# Development (MailHog): 1025
# Production TLS: 587, SSL: 465
AUTHWAY_EMAIL_SMTP_PORT=1025

# SMTP username (leave empty for MailHog)
AUTHWAY_EMAIL_SMTP_USER=

# SMTP password (leave empty for MailHog)
AUTHWAY_EMAIL_SMTP_PASSWORD=

# "From" email address
AUTHWAY_EMAIL_FROM_EMAIL=noreply@authway.dev

# "From" display name
AUTHWAY_EMAIL_FROM_NAME=Authway

# ============================================================
# Google OAuth Configuration
# ============================================================
# Optional: Enable Google sign-in

# Enable Google OAuth
AUTHWAY_GOOGLE_ENABLED=false

# Google OAuth client ID (from Google Cloud Console)
# AUTHWAY_GOOGLE_CLIENT_ID=your-google-client-id

# Google OAuth client secret (from Google Cloud Console)
# AUTHWAY_GOOGLE_CLIENT_SECRET=your-google-client-secret

# Google OAuth redirect URL
AUTHWAY_GOOGLE_REDIRECT_URL=http://localhost:8080/auth/google/callback

# ============================================================
# GitHub OAuth Configuration
# ============================================================
# Optional: Enable GitHub sign-in

# Enable GitHub OAuth
AUTHWAY_GITHUB_ENABLED=false

# GitHub OAuth client ID (from GitHub Developer Settings)
# AUTHWAY_GITHUB_CLIENT_ID=your-github-client-id

# GitHub OAuth client secret (from GitHub Developer Settings)
# AUTHWAY_GITHUB_CLIENT_SECRET=your-github-client-secret

# GitHub OAuth redirect URL
AUTHWAY_GITHUB_REDIRECT_URL=http://localhost:8080/auth/github/callback

# ============================================================
# Ory Hydra Configuration (Optional)
# ============================================================
# If using external Ory Hydra for OAuth/OIDC

# Hydra admin API URL
AUTHWAY_HYDRA_ADMIN_URL=http://localhost:4445

# Hydra public API URL
AUTHWAY_HYDRA_PUBLIC_URL=http://localhost:4444

# ============================================================
# Multi-Tenant Configuration
# ============================================================
# Control tenant isolation mode

# Single tenant mode (true = one tenant, false = multi-tenant)
AUTHWAY_TENANT_SINGLE_TENANT_MODE=false

# Single tenant name (required if single_tenant_mode=true)
# AUTHWAY_TENANT_TENANT_NAME=My Company

# Single tenant slug (required if single_tenant_mode=true)
# AUTHWAY_TENANT_TENANT_SLUG=my-company

# ============================================================
# Admin Console Configuration
# ============================================================
# [REQUIRED] Admin console access credentials

# Admin console password
# [REQUIRED IN PRODUCTION] Use a strong password!
# Default for development: admin123
AUTHWAY_ADMIN_PASSWORD=admin123

# Admin API key (optional, for API access)
# Generate with: openssl rand -hex 32
# AUTHWAY_ADMIN_API_KEY=your-admin-api-key

# ============================================================
# Security Recommendations
# ============================================================
#
# FOR PRODUCTION DEPLOYMENT:
#
# 1. Change ALL secrets and passwords:
#    - AUTHWAY_JWT_ACCESS_TOKEN_SECRET
#    - AUTHWAY_JWT_REFRESH_TOKEN_SECRET
#    - AUTHWAY_ADMIN_PASSWORD
#    - AUTHWAY_DATABASE_PASSWORD
#
# 2. Set environment to production:
#    - AUTHWAY_APP_ENVIRONMENT=production
#
# 3. Enable SSL/TLS:
#    - AUTHWAY_DATABASE_SSL_MODE=require
#    - Use HTTPS for AUTHWAY_APP_BASE_URL
#
# 4. Configure production SMTP:
#    - Use real email service (SendGrid, AWS SES, etc.)
#    - Set proper credentials
#
# 5. Restrict CORS origins:
#    - Only allow your production domains
#
# 6. Enable Redis for better performance:
#    - Configure Redis connection
#    - Consider Redis sentinel/cluster for HA
#
# 7. Set up monitoring and logging:
#    - Application logs
#    - Database slow queries
#    - Redis metrics
#
# ============================================================
